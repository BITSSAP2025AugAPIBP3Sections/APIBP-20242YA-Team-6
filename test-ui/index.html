<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Management System - Role-Based UI</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container" id="app">
        <!-- Login Screen -->
        <div class="login-screen" id="loginScreen">
            <div class="login-card">
                <div class="login-header">
                    <h1>ğŸ‰ Event Management System</h1>
                    <p>Role-Based Access Control Demo</p>
                </div>

                <div class="login-tabs">
                    <button class="tab-btn active" onclick="showAuthMode('login')">Login</button>
                    <button class="tab-btn" onclick="showAuthMode('register')">Register</button>
                </div>

                <!-- Login Form -->
                <div class="auth-form" id="loginForm">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="loginEmail" placeholder="user@example.com">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="loginPassword" placeholder="Password">
                    </div>
                    <button class="btn btn-primary btn-block" onclick="login()">Login</button>

                    <div class="divider">OR</div>

                    <div class="quick-login-section">
                        <h3>Quick Login As:</h3>
                        <div class="quick-login-grid">
                            <button class="role-card admin" onclick="quickLogin('admin')">
                                <div class="role-icon">ğŸ‘‘</div>
                                <div class="role-name">Admin</div>
                                <div class="role-desc">Full System Access</div>
                            </button>
                            <button class="role-card organizer" onclick="quickLogin('organizer')">
                                <div class="role-icon">ğŸ“‹</div>
                                <div class="role-name">Organizer</div>
                                <div class="role-desc">Manage Own Events</div>
                            </button>
                            <button class="role-card vendor" onclick="quickLogin('vendor')">
                                <div class="role-icon">ğŸ¢</div>
                                <div class="role-name">Vendor</div>
                                <div class="role-desc">View Tasks</div>
                            </button>
                            <button class="role-card attendee" onclick="quickLogin('attendee')">
                                <div class="role-icon">ğŸ‘¤</div>
                                <div class="role-name">Attendee</div>
                                <div class="role-desc">View & RSVP Events</div>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Register Form -->
                <div class="auth-form hidden" id="registerForm">
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="regEmail" placeholder="newuser@example.com">
                    </div>
                    <div class="form-group">
                        <label>Password * (min 6 chars)</label>
                        <input type="password" id="regPassword" placeholder="Password">
                    </div>
                    <div class="form-group">
                        <label>Role *</label>
                        <select id="regRole">
                            <option value="attendee">Attendee - View events & RSVP</option>
                            <option value="vendor">Vendor - View events & tasks</option>
                            <option value="organizer">Organizer - Manage own events</option>
                            <option value="admin">Admin - Full access</option>
                        </select>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="register()">Create Account</button>
                </div>

                <div class="api-config">
                    <label>API URL:</label>
                    <input type="text" id="apiUrl" value="http://localhost:8000">
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div class="dashboard hidden" id="dashboard">
            <!-- Top Navigation -->
            <nav class="top-nav">
                <div class="nav-brand">
                    <h2>ğŸ‰ Event Management</h2>
                </div>
                <div class="nav-user">
                    <div class="user-info">
                        <span class="user-email" id="navUserEmail"></span>
                        <span class="user-role-badge" id="navUserRole"></span>
                    </div>
                    <button class="btn btn-logout" onclick="logout()">Logout</button>
                </div>
            </nav>

            <!-- Role-Based Content -->
            <div class="dashboard-content">
                <!-- Admin Dashboard -->
                <div class="role-dashboard hidden" id="adminDashboard">
                    <div class="dashboard-header">
                        <h1>ğŸ‘‘ Admin Dashboard</h1>
                        <p class="role-description">Full system access - Manage all resources</p>
                    </div>

                    <div class="permissions-card">
                        <h3>ğŸ” Your Permissions</h3>
                        <div class="permissions-grid">
                            <div class="permission-item">âœ… View all events</div>
                            <div class="permission-item">âœ… Create/edit/delete any event</div>
                            <div class="permission-item">âœ… View all vendors</div>
                            <div class="permission-item">âœ… Manage all vendors</div>
                            <div class="permission-item">âœ… View all tasks</div>
                            <div class="permission-item">âœ… Manage all tasks</div>
                            <div class="permission-item">âœ… View all attendees</div>
                            <div class="permission-item">âœ… Manage all RSVPs</div>
                        </div>
                    </div>

                    <div class="modules-container">
                        <div class="module-card">
                            <h2>ğŸ“… Events Management</h2>
                            <div id="adminEventsModule"></div>
                        </div>
                        <div class="module-card">
                            <h2>ğŸ¢ Vendors Management</h2>
                            <div id="adminVendorsModule"></div>
                        </div>
                        <div class="module-card">
                            <h2>âœ… Tasks Management</h2>
                            <div id="adminTasksModule"></div>
                        </div>
                        <div class="module-card">
                            <h2>ğŸ‘¥ Attendees Management</h2>
                            <div id="adminAttendeesModule"></div>
                        </div>
                    </div>
                </div>

                <!-- Organizer Dashboard -->
                <div class="role-dashboard hidden" id="organizerDashboard">
                    <div class="dashboard-header">
                        <h1>ğŸ“‹ Organizer Dashboard</h1>
                        <p class="role-description">Manage your own events and related resources</p>
                    </div>

                    <div class="permissions-card">
                        <h3>ğŸ” Your Permissions</h3>
                        <div class="permissions-grid">
                            <div class="permission-item">âœ… View all events</div>
                            <div class="permission-item">âœ… Create new events</div>
                            <div class="permission-item">âœ… Edit/delete YOUR events only</div>
                            <div class="permission-item">âœ… Manage vendors for YOUR events</div>
                            <div class="permission-item">âœ… Manage tasks for YOUR events</div>
                            <div class="permission-item">âœ… View attendees for YOUR events</div>
                            <div class="permission-item warning">âŒ Cannot RSVP to events</div>
                        </div>
                    </div>

                    <div class="modules-container">
                        <div class="module-card">
                            <h2>ğŸ“… My Events</h2>
                            <div id="organizerEventsModule"></div>
                        </div>
                        <div class="module-card">
                            <h2>ğŸ¢ Event Vendors</h2>
                            <div id="organizerVendorsModule"></div>
                        </div>
                        <div class="module-card">
                            <h2>âœ… Event Tasks</h2>
                            <div id="organizerTasksModule"></div>
                        </div>
                        <div class="module-card">
                            <h2>ğŸ‘¥ Event Attendees</h2>
                            <div id="organizerAttendeesModule"></div>
                        </div>
                    </div>
                </div>

                <!-- Vendor Dashboard -->
                <div class="role-dashboard hidden" id="vendorDashboard">
                    <div class="dashboard-header">
                        <h1>ğŸ¢ Vendor Dashboard</h1>
                        <p class="role-description">View events and manage your assigned tasks</p>
                    </div>

                    <div class="permissions-card">
                        <h3>ğŸ” Your Permissions</h3>
                        <div class="permissions-grid">
                            <div class="permission-item">âœ… View all events</div>
                            <div class="permission-item">âœ… View event details</div>
                            <div class="permission-item">âœ… View YOUR assigned tasks</div>
                            <div class="permission-item">âœ… Update task status (YOUR tasks only)</div>
                            <div class="permission-item warning">âŒ Cannot create/edit events</div>
                            <div class="permission-item warning">âŒ Cannot view vendors</div>
                            <div class="permission-item warning">âŒ Cannot RSVP to events</div>
                            <div class="permission-item warning">âŒ Cannot view attendees</div>
                        </div>
                    </div>

                    <div class="modules-container">
                        <div class="module-card">
                            <h2>ğŸ“… Available Events</h2>
                            <div id="vendorEventsModule"></div>
                        </div>
                        <div class="module-card">
                            <h2>âœ… My Assigned Tasks</h2>
                            <div id="vendorTasksModule"></div>
                        </div>
                    </div>
                </div>

                <!-- Attendee Dashboard -->
                <div class="role-dashboard hidden" id="attendeeDashboard">
                    <div class="dashboard-header">
                        <h1>ğŸ‘¤ Attendee Dashboard</h1>
                        <p class="role-description">Discover events and manage your RSVPs</p>
                    </div>

                    <div class="permissions-card">
                        <h3>ğŸ” Your Permissions</h3>
                        <div class="permissions-grid">
                            <div class="permission-item">âœ… View all events</div>
                            <div class="permission-item">âœ… View event details</div>
                            <div class="permission-item">âœ… RSVP to events</div>
                            <div class="permission-item">âœ… Update YOUR RSVPs</div>
                            <div class="permission-item">âœ… View YOUR RSVPs</div>
                            <div class="permission-item warning">âŒ Cannot create/edit events</div>
                            <div class="permission-item warning">âŒ Cannot view vendors</div>
                            <div class="permission-item warning">âŒ Cannot view tasks</div>
                        </div>
                    </div>

                    <div class="modules-container">
                        <div class="module-card">
                            <h2>ğŸ“… Browse Events</h2>
                            <div id="attendeeEventsModule"></div>
                        </div>
                        <div class="module-card">
                            <h2>ğŸ« My RSVPs</h2>
                            <div id="attendeeRSVPsModule"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="app.js"></script>
</body>
</html>
